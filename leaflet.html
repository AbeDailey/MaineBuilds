<!DOCTYPE html>
<html lang="en">

<!-- Coded by Abraham Dailey, adailey@gpcog.org, for Maine Builds 02/22/2022 -->


<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">

<title>Maine Builds Leaflet Map</title>

<link rel="icon" type="image/x-icon" href="favicon.ico">

<link rel="stylesheet" href="/leaflet/leaflet.css" />

<!-- <link href='https://api.mapbox.com/mapbox-gl-js/v2.3.1/mapbox-gl.css' rel='stylesheet' /> -->

<script src="/leaflet/leaflet.js"></script>

<!-- <script src="leaflet.ajax.min.js"></script> -->

<script src="jquery-2.1.1.min.js"></script> 

<script src="permits.geojson" type="application/geo+json"></script>

<!-- <script src='https://api.mapbox.com/mapbox-gl-js/v2.3.1/mapbox-gl.js'></script> -->

</head>


<body>

<div id='map' style='width: 800px; height: 800px;'></div>


<script>

// initialize the map
var map = L.map('map').setView([43.8006, -70.1867], 13);

// load a tile layer
L.tileLayer('https://api.mapbox.com/styles/v1/{id}/tiles/{z}/{x}/{y}?access_token={accessToken}', {
    attribution: 'Map data &copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors, Imagery Â© <a href="https://www.mapbox.com/">Mapbox</a>',
    maxZoom: 18,
    id: 'daileya/ckzz5ekso000315rt79lwfeqk',
    tileSize: 512,
    zoomOffset: -1,
    accessToken: 'pk.eyJ1IjoiZGFpbGV5YSIsImEiOiJjamU1cmFvaWI1ZW93MnZtdWYzZzA4ZnM5In0.hi1a2TNDosip9SaKYhTI7g'
}).addTo(map);


var geojsonMarkerOptions = {
    radius: 4,
    fillColor: "#003f67",
    color: "#003f67",
    weight: 1,
    opacity: 1,
    fillOpacity: 1
};



//load GeoJSON from an external file
$.getJSON("permits.geojson",function(data){
     //add GeoJSON layer to the map once the file is loaded
    L.geoJson(data, {
        pointToLayer: function (feature, latlng) {
            return L.circleMarker(latlng, geojsonMarkerOptions);
        }
    }).addTo(map);
  });



//load GeoJSON from an external file
//$.getJSON("permits.geojson",function(data){
    // add GeoJSON layer to the map once the file is loaded
//    L.geoJson(data).addTo(map);
//  });

</script>



<!-- map box script
<script>
mapboxgl.accessToken = 'pk.eyJ1IjoiZGFpbGV5YSIsImEiOiJjamU1cmFvaWI1ZW93MnZtdWYzZzA4ZnM5In0.hi1a2TNDosip9SaKYhTI7g';
var map = new mapboxgl.Map({
container: 'map',
style: 'mapbox://styles/daileya/ckzz5maz5000315qo1hb5ib00'
});
</script>
-->


</body>
</html>